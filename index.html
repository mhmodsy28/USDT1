<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>منصة كريبتو لاين – شراء وبيع USDT</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent1:#00d4ff;
      --accent2:#4f46e5;
      --muted:#98a1b2;
      --glass: rgba(255,255,255,0.04);
    }
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100vh;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(0,212,255,0.12), transparent),
                  radial-gradient(900px 400px at 90% 90%, rgba(79,70,229,0.06), transparent),
                  var(--bg);
      color:#e6eef6;display:flex;align-items:center;justify-content:center;padding:16px;
    }

    .container{width:100%;max-width:880px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:18px;padding:18px;box-shadow: 0 10px 40px rgba(2,6,23,0.7);display:flex;flex-direction:column;gap:18px;}
    .panel{background:var(--card);border-radius:12px;padding:16px;box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);}
    header{display:flex;gap:12px;align-items:center}
    header img{width:64px;height:64px;border-radius:12px;box-shadow:0 6px 20px rgba(0,212,255,0.12)}
    header h1{margin:0;font-size:20px;font-weight:700;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    .tabs{display:flex;gap:8px;margin-top:12px}
    .tab{padding:8px 12px;border-radius:10px;cursor:pointer;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}
    .tab.active{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#061124;border:none;box-shadow:0 8px 24px rgba(79,70,229,0.12);font-weight:700}
    .field{margin-top:12px}
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="number"], input[type="text"], select, input[type="file"]{
      width:100%;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:var(--glass);color:inherit;font-size:15px;outline:none;
    }
    .row{display:flex;gap:12px;flex-wrap:wrap}
    .row .field{flex:1;min-width:140px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;color:#061124;font-weight:700;cursor:pointer;box-shadow:0 8px 22px rgba(0,0,0,0.45);transition:transform .18s,box-shadow .18s}
    .btn:hover{transform:translateY(-3px)}
    .address-container{display:flex;align-items:center;gap:10px;margin-top:8px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:10px;padding:10px;justify-content:space-between;font-size:14px;word-break:break-all}
    .copy-btn{padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent1);cursor:pointer;font-weight:700}
    .copy-btn.copied{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#061124;border:none}
    .order-section{padding:12px;margin-top:6px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);}
    .order-section h2{margin:0;color:var(--accent1);font-size:16px;text-align:center;margin-bottom:8px}
    .order-field{display:flex;justify-content:space-between;padding:8px 6px;border-bottom:1px dashed rgba(255,255,255,0.06)}
    .waiting-btn{margin-top:12px;padding:10px;border-radius:10px;background:#4f46e5;color:white;font-weight:700;text-align:center;cursor:not-allowed}
    .note{margin-top:8px;color:var(--muted);font-size:13px;line-height:1.4}
    .small{font-size:13px;color:var(--muted)}
    @media (max-width:600px){
      .container{padding:12px}
      header h1{font-size:18px}
    }
  </style>
</head>
<body>
  <div class="container" id="app">
    <div class="panel">
      <header>
        <img src="https://cdn-icons-png.flaticon.com/512/825/825540.png" alt="logo">
        <div>
          <h1>منصة كريبتو لاين</h1>
          <div class="small">شراء وبيع USDT — الواجهة التوضيحية</div>
        </div>
      </header>

      <div class="tabs" role="tablist">
        <div class="tab active" data-tab="sell">بيع USDT</div>
        <div class="tab" data-tab="buy">شراء USDT</div>
      </div>

      <!-- SELL FORM (existing) -->
      <div id="sellForm">
        <div class="field">
          <label>المبلغ (USDT)</label>
          <input id="sellAmount" type="number" min="0" step="0.01" value="10">
        </div>

        <div class="row">
          <div class="field">
            <label>سعر الصرف (1 USDT → SYP)</label>
            <input type="number" value="11600" disabled>
          </div>
          <div class="field">
            <label>نسبة رسوم الخدمة (%)</label>
            <input type="number" value="3" disabled>
          </div>
          <div class="field">
            <label>رسوم الشبكة (USDT)</label>
            <input id="sellNetwork" type="number" value="1" disabled>
          </div>
        </div>

        <div class="field">
          <label>اختر طريقة الاستلام</label>
          <select id="sellProvider">
            <option value="sham">شام كاش</option>
            <option value="syriatel">سيريتل كاش</option>
          </select>
        </div>

        <div class="field" id="sellDynamic"></div>

        <div class="field">
          <label>اختر شبكة الإيداع</label>
          <select id="sellNetworkType">
            <option value="bep20">USDT BEP20</option>
            <option value="trc20">USDT TRC20</option>
            <option value="erc20">USDT ERC20</option>
          </select>
          <div class="address-container">
            <span id="sellAddress">0x3932890a5d1acb3ab036bd39ade26c47929b37e5</span>
            <button class="copy-btn" id="sellCopy">نسخ العنوان</button>
          </div>
        </div>

        <div class="field">
          <label>ارفع صورة إشعار التحويل</label>
          <input id="sellReceipt" type="file" accept="image/*">
        </div>

        <div style="margin-top:12px">
          <button class="btn" id="sellSubmit">إرسال</button>
        </div>
      </div>

      <!-- BUY FORM (new) -->
      <div id="buyForm" style="display:none;">
        <div class="field">
          <label>المبلغ الذي تريد شراءه (USDT)</label>
          <input id="buyAmount" type="number" min="0" step="0.01" value="10">
        </div>

        <div class="row">
          <div class="field">
            <label>طريقة الاستلام</label>
            <select id="buyProvider">
              <option value="sham">شام كاش</option>
              <option value="syriatel">سيريتل كاش</option>
            </select>
          </div>
          <div class="field">
            <label>اختر شبكة الإيداع</label>
            <select id="buyNetworkType">
              <option value="bep20">USDT BEP20</option>
              <option value="trc20">USDT TRC20</option>
              <option value="erc20">USDT ERC20</option>
            </select>
          </div>
        </div>

        <!-- For BUY: show the exact address provided by you -->
        <div class="field">
          <label>عنوان الاستلام</label>
          <div class="address-container">
            <span id="buyAddress">47eadb848bfbbeaf2466ed104ade932a</span>
            <button class="copy-btn" id="buyCopy">نسخ العنوان</button>
          </div>
          <div class="note">أرسل إشعار التحويل على الرقم التالي مع عنوان محفظتك: <strong>+212784607357</strong></div>
        </div>

        <div class="field">
          <label>ارفق صورة إثبات التحويل</label>
          <input id="buyReceipt" type="file" accept="image/*">
        </div>

        <div style="margin-top:12px">
          <button class="btn" id="buySubmit">إرسال الطلب</button>
        </div>
      </div>

    </div>

    <!-- order / receipt area (shown below both forms) -->
    <div class="order-section" id="orderSection">
      <h2>تفاصيل الطلب</h2>
      <div id="orderDetails">
        <!-- Filled dynamically -->
      </div>
      <div class="waiting-btn" id="waitingBtn" style="display:none;">⏳ جاري الانتظار</div>
    </div>

    <div class="panel">
      <h3 style="margin:0 0 8px 0;font-size:16px;color:var(--accent1)">معلومات</h3>
      <p class="note">واجهة الشراء والبيع أعلاه تعرض إرشادات الحفظ والإرسال. عند الإرسال سيظهر ملخص الطلب أسفل النموذج مع حالة الانتظار. زر النسخ ينسخ العنوان إلى الحافظة.</p>
    </div>

  </div>

  <script>
    // Tab switching
    const tabs = document.querySelectorAll('.tab');
    const sellForm = document.getElementById('sellForm');
    const buyForm = document.getElementById('buyForm');
    tabs.forEach(t => {
      t.addEventListener('click', () => {
        tabs.forEach(x=>x.classList.remove('active'));
        t.classList.add('active');
        if (t.dataset.tab === 'sell') {
          sellForm.style.display = '';
          buyForm.style.display = 'none';
        } else {
          sellForm.style.display = 'none';
          buyForm.style.display = '';
        }
      });
    });

    // Sell dynamic field (sham -> wallet, syriatel -> phone)
    const sellProvider = document.getElementById('sellProvider');
    const sellDynamic = document.getElementById('sellDynamic');
    function renderSellDynamic(){
      sellDynamic.innerHTML = '';
      if (sellProvider.value === 'sham') {
        sellDynamic.innerHTML = `<div class="field"><label>عنوان محفظة شام كاش (USDT)</label><input id="sellWallet" type="text" placeholder="أدخل عنوان المحفظة"></div>`;
      } else {
        sellDynamic.innerHTML = `<div class="field"><label>رقم سيريتل كاش</label><input id="sellPhone" type="text" placeholder="أدخل رقم الهاتف"></div>`;
      }
    }
    sellProvider.addEventListener('change', renderSellDynamic);
    renderSellDynamic();

    // Addresses sets
    const sellAddresses = {
      bep20: '0x3932890a5d1acb3ab036bd39ade26c47929b37e5',
      trc20: 'TQi3mspeUBS1Y4NknPu4zZVFiFG2JU5MkX',
      erc20: '0x3932890a5d1acb3ab036bd39ade26c47929b37e5'
    };
    const buyAddressFixed = '47eadb848bfbbeaf2466ed104ade932a'; // provided by user
    const buyPhone = '+212784607357';

    // Sell address update & copy
    const sellNetworkType = document.getElementById('sellNetworkType');
    const sellAddressSpan = document.getElementById('sellAddress');
    const sellCopyBtn = document.getElementById('sellCopy');
    function updateSellAddress(){ sellAddressSpan.textContent = sellAddresses[sellNetworkType.value]; }
    sellNetworkType.addEventListener('change', updateSellAddress);
    updateSellAddress();
    sellCopyBtn.addEventListener('click', ()=> {
      navigator.clipboard.writeText(sellAddressSpan.textContent).then(()=> {
        sellCopyBtn.classList.add('copied');
        sellCopyBtn.textContent = 'تم النسخ';
        setTimeout(()=>{ sellCopyBtn.classList.remove('copied'); sellCopyBtn.textContent = 'نسخ العنوان'; },1400);
      });
    });

    // Buy copy
    const buyCopyBtn = document.getElementById('buyCopy');
    const buyAddressSpan = document.getElementById('buyAddress');
    buyCopyBtn.addEventListener('click', ()=> {
      navigator.clipboard.writeText(buyAddressSpan.textContent).then(()=> {
        buyCopyBtn.classList.add('copied');
        buyCopyBtn.textContent = 'تم النسخ';
        setTimeout(()=>{ buyCopyBtn.classList.remove('copied'); buyCopyBtn.textContent = 'نسخ العنوان'; },1400);
      });
    });

    // Helpers
    const orderDetails = document.getElementById('orderDetails');
    const waitingBtn = document.getElementById('waitingBtn');

    function showOrder(details){
      orderDetails.innerHTML = '';
      for (const d of details){
        const div = document.createElement('div');
        div.className = 'order-field';
        div.innerHTML = `<div style="color:var(--muted)">${d.label}</div><div style="font-weight:700">${d.value}</div>`;
        orderDetails.appendChild(div);
      }
      waitingBtn.style.display = '';
      // In demo we don't actually process; keep waiting visible
    }

    // Sell submit
    document.getElementById('sellSubmit').addEventListener('click', ()=>{
      const amount = document.getElementById('sellAmount').value || '0';
      const providerText = sellProvider.options[sellProvider.selectedIndex].text;
      const network = sellNetworkType.value;
      const address = sellAddresses[network];
      const receipt = document.getElementById('sellReceipt').files[0]?.name || '—';
      let info = '—';
      if (sellProvider.value === 'sham') info = document.getElementById('sellWallet')?.value || '—';
      else info = document.getElementById('sellPhone')?.value || '—';

      const details = [
        {label:'نوع العملية', value:'بيع USDT'},
        {label:'المبلغ (USDT)', value:amount},
        {label:'طريقة الاستلام', value:providerText},
        {label:'معلومات الاستلام', value:info},
        {label:'شبكة الإيداع', value:network},
        {label:'عنوان الاستلام', value:address},
        {label:'ملف الإيصال', value:receipt}
      ];
      showOrder(details);
    });

    // Buy submit
    document.getElementById('buySubmit').addEventListener('click', ()=>{
      const amount = document.getElementById('buyAmount').value || '0';
      const provider = document.getElementById('buyProvider').value;
      const providerText = document.getElementById('buyProvider').options[document.getElementById('buyProvider').selectedIndex].text;
      const network = document.getElementById('buyNetworkType').value;
      const receipt = document.getElementById('buyReceipt').files[0]?.name || '—';
      const details = [
        {label:'نوع العملية', value:'شراء USDT'},
        {label:'المبلغ المطلوب (USDT)', value:amount},
        {label:'طريقة الاستلام', value:providerText},
        {label:'شبكة الإيداع', value:network},
        {label:'عنوان الاستلام', value:buyAddressFixed},
        {label:'أرسل إشعار التحويل إلى', value: buyPhone},
        {label:'ملف الإيصال', value:receipt}
      ];
      showOrder(details);
    });

    // init
    document.addEventListener('DOMContentLoaded', ()=> {
      // ensure buy address is set (already in DOM), ensure waiting hidden
      waitingBtn.style.display = 'none';
    });
  </script>
</body>
</html>

